# ç‰ˆæœ¬ 1.1.2 æ›´æ–°æ‘˜è¦

## ğŸ›¡ï¸ æ–°åŠŸèƒ½ï¼šæ¢ä»¶æ¬„ä½é©—è­‰

### æ›´æ–°å…§å®¹
æ­¤ç‰ˆæœ¬æ–°å¢äº†**æ¢ä»¶æ¬„ä½å­˜åœ¨æ€§é©—è­‰**åŠŸèƒ½ï¼Œç•¶åŸ·è¡Œæ¢ä»¶æ›´æ–°æˆ–æ¢ä»¶åˆªé™¤æ“ä½œæ™‚ï¼Œç³»çµ±æœƒå…ˆé©—è­‰æ‰€æœ‰æ¢ä»¶æ¬„ä½æ˜¯å¦å­˜åœ¨æ–¼è³‡æ–™ä¸­ï¼Œè‹¥æ¬„ä½ä¸å­˜åœ¨å‰‡æœƒæ‹‹å‡ºæ¸…æ™°çš„éŒ¯èª¤è¨Šæ¯ï¼Œé¿å…å› æ¬„ä½åç¨±éŒ¯èª¤å°è‡´çš„éé æœŸè¡Œç‚ºã€‚

### æ–°å¢åŠŸèƒ½

#### 1. æ¢ä»¶æ¬„ä½é©—è­‰ï¼ˆUpdate æ“ä½œï¼‰
- âœ… åœ¨åŸ·è¡Œæ¢ä»¶æ›´æ–°å‰ï¼Œè‡ªå‹•é©—è­‰æ‰€æœ‰æ¢ä»¶æ¬„ä½æ˜¯å¦å­˜åœ¨
- âœ… ç•¶æ¢ä»¶æ¬„ä½ä¸å­˜åœ¨æ™‚ï¼Œç«‹å³æ‹‹å‡ºéŒ¯èª¤ä¸¦æŒ‡å‡ºå…·é«”æ¬„ä½åç¨±
- âœ… æ›´æ–°æ¬„ä½ä»å¯ä¸å­˜åœ¨ï¼ˆç”¨æ–¼æ–°å¢è¨ˆç®—æ¬„ä½ï¼‰

#### 2. æ¢ä»¶æ¬„ä½é©—è­‰ï¼ˆDelete æ“ä½œï¼‰
- âœ… åœ¨åŸ·è¡Œæ¢ä»¶åˆªé™¤å‰ï¼Œè‡ªå‹•é©—è­‰æ‰€æœ‰æ¢ä»¶æ¬„ä½æ˜¯å¦å­˜åœ¨
- âœ… ç•¶æ¢ä»¶æ¬„ä½ä¸å­˜åœ¨æ™‚ï¼Œç«‹å³æ‹‹å‡ºéŒ¯èª¤ä¸¦æŒ‡å‡ºå…·é«”æ¬„ä½åç¨±

### ç‚ºä»€éº¼éœ€è¦æ­¤åŠŸèƒ½ï¼Ÿ

**å•é¡Œå ´æ™¯ï¼š**
åœ¨æ²’æœ‰é©—è­‰çš„æƒ…æ³ä¸‹ï¼Œå¦‚æœæ¢ä»¶æ¬„ä½åç¨±æ‹¼å¯«éŒ¯èª¤æˆ–ä¸å­˜åœ¨ï¼š
- âŒ Update æ“ä½œå¯èƒ½ä¸æœƒæ›´æ–°ä»»ä½•è³‡æ–™ï¼ˆéœé»˜å¤±æ•—ï¼‰
- âŒ Delete æ“ä½œå¯èƒ½ä¸æœƒåˆªé™¤ä»»ä½•è³‡æ–™ï¼ˆéœé»˜å¤±æ•—ï¼‰
- âŒ ä½¿ç”¨è€…é›£ä»¥ç™¼ç¾å•é¡Œæ‰€åœ¨

**è§£æ±ºæ–¹æ¡ˆï¼š**
- âœ… ç«‹å³ç™¼ç¾æ¬„ä½åç¨±éŒ¯èª¤
- âœ… æ˜ç¢ºæŒ‡å‡ºå“ªå€‹æ¬„ä½ä¸å­˜åœ¨
- âœ… é¿å…éœé»˜å¤±æ•—ï¼Œæå‡å¯é æ€§

### ä½¿ç”¨ç¯„ä¾‹

#### ç¯„ä¾‹ 1ï¼šæ¢ä»¶æ¬„ä½ä¸å­˜åœ¨ï¼ˆæœƒæ‹‹å‡ºéŒ¯èª¤ï¼‰

**è¼¸å…¥è³‡æ–™ï¼š**
```json
[
  { "name": "å¼µä¸‰", "department": "æŠ€è¡“éƒ¨", "salary": 50000 },
  { "name": "æå››", "department": "æ¥­å‹™éƒ¨", "salary": 45000 }
]
```

**æ›´æ–°è¨­å®šï¼ˆæ¬„ä½åç¨±éŒ¯èª¤ï¼‰ï¼š**
```json
{
  "operation": "update",
  "updateMode": "condition",
  "updateConditions": {
    "conditions": [
      {
        "field": "departmnt",  // âŒ æ‹¼å¯«éŒ¯èª¤ï¼ˆæ­£ç¢ºæ‡‰ç‚º departmentï¼‰
        "operator": "equals",
        "value": "æŠ€è¡“éƒ¨"
      }
    ]
  },
  "fieldsToUpdate": {
    "fields": [
      { "name": "salary", "value": "60000" }
    ]
  }
}
```

**éŒ¯èª¤è¨Šæ¯ï¼š**
```
Condition field "departmnt" does not exist in any of the input items. 
Please check your condition field names.
```

#### ç¯„ä¾‹ 2ï¼šæ›´æ–°æ¬„ä½å¯ä»¥ä¸å­˜åœ¨ï¼ˆæ–°å¢è¨ˆç®—æ¬„ä½ï¼‰

**è¼¸å…¥è³‡æ–™ï¼š**
```json
[
  { "name": "å¼µä¸‰", "salary": 50000 },
  { "name": "æå››", "salary": 45000 }
]
```

**æ›´æ–°è¨­å®šï¼ˆæ–°å¢è¨ˆç®—æ¬„ä½ï¼‰ï¼š**
```json
{
  "operation": "update",
  "updateMode": "condition",
  "updateConditions": {
    "conditions": [
      {
        "field": "salary",  // âœ… æ¢ä»¶æ¬„ä½å­˜åœ¨
        "operator": "greaterThan",
        "value": "40000"
      }
    ]
  },
  "fieldsToUpdate": {
    "fields": [
      { "name": "bonus", "value": "5000" }  // âœ… æ›´æ–°æ¬„ä½å¯ä»¥ä¸å­˜åœ¨ï¼ˆæ–°å¢æ¬„ä½ï¼‰
    ]
  }
}
```

**åŸ·è¡Œçµæœï¼š**
```json
[
  { "name": "å¼µä¸‰", "salary": 50000, "bonus": "5000" },
  { "name": "æå››", "salary": 45000, "bonus": "5000" }
]
```

#### ç¯„ä¾‹ 3ï¼šDelete æ“ä½œçš„æ¬„ä½é©—è­‰

**è¼¸å…¥è³‡æ–™ï¼š**
```json
[
  { "name": "å¼µä¸‰", "status": "åœ¨è·" },
  { "name": "æå››", "status": "é›¢è·" }
]
```

**åˆªé™¤è¨­å®šï¼ˆæ¬„ä½åç¨±éŒ¯èª¤ï¼‰ï¼š**
```json
{
  "operation": "delete",
  "deleteMode": "condition",
  "deleteConditions": {
    "conditions": [
      {
        "field": "stats",  // âŒ æ‹¼å¯«éŒ¯èª¤ï¼ˆæ­£ç¢ºæ‡‰ç‚º statusï¼‰
        "operator": "equals",
        "value": "é›¢è·"
      }
    ]
  }
}
```

**éŒ¯èª¤è¨Šæ¯ï¼š**
```
Condition field "stats" does not exist in any of the input items. 
Please check your condition field names.
```

### é‡è¦èªªæ˜

#### âœ… æ¢ä»¶æ¬„ä½ï¼ˆå¿…é ˆå­˜åœ¨ï¼‰
- Update æ“ä½œçš„ `updateConditions` ä¸­çš„ `field`
- Delete æ“ä½œçš„ `deleteConditions` ä¸­çš„ `field`
- é€™äº›æ¬„ä½ç”¨æ–¼ç¯©é¸è³‡æ–™ï¼Œå¿…é ˆå­˜åœ¨æ‰èƒ½æ­£ç¢ºåŸ·è¡Œ

#### âœ… æ›´æ–°æ¬„ä½ï¼ˆå¯ä»¥ä¸å­˜åœ¨ï¼‰
- Update æ“ä½œçš„ `fieldsToUpdate` ä¸­çš„ `name`
- é€™äº›æ¬„ä½å¯ä»¥æ˜¯æ–°å¢çš„è¨ˆç®—æ¬„ä½ï¼Œå› æ­¤å…è¨±ä¸å­˜åœ¨

### æ¸¬è©¦è¦†è“‹

æ­¤ç‰ˆæœ¬æ–°å¢äº† 5 å€‹å–®å…ƒæ¸¬è©¦æ¡ˆä¾‹ï¼š

1. **Update æ“ä½œï¼šå–®ä¸€æ¢ä»¶æ¬„ä½ä¸å­˜åœ¨**
   - é©—è­‰ç•¶æ¢ä»¶æ¬„ä½ä¸å­˜åœ¨æ™‚æœƒæ‹‹å‡ºéŒ¯èª¤

2. **Update æ“ä½œï¼šå¤šå€‹æ¢ä»¶ä¸­æœ‰ä¸€å€‹æ¬„ä½ä¸å­˜åœ¨**
   - é©—è­‰ç•¶å¤šå€‹æ¢ä»¶ä¸­æœ‰ä¸€å€‹æ¬„ä½ä¸å­˜åœ¨æ™‚æœƒæ‹‹å‡ºéŒ¯èª¤

3. **Update æ“ä½œï¼šæ›´æ–°æ¬„ä½å¯ä»¥ä¸å­˜åœ¨**
   - é©—è­‰æ›´æ–°æ¬„ä½å¯ä»¥æ˜¯æ–°å¢çš„è¨ˆç®—æ¬„ä½

4. **Delete æ“ä½œï¼šå–®ä¸€æ¢ä»¶æ¬„ä½ä¸å­˜åœ¨**
   - é©—è­‰ç•¶æ¢ä»¶æ¬„ä½ä¸å­˜åœ¨æ™‚æœƒæ‹‹å‡ºéŒ¯èª¤

5. **Delete æ“ä½œï¼šå¤šå€‹æ¢ä»¶ä¸­æœ‰ä¸€å€‹æ¬„ä½ä¸å­˜åœ¨**
   - é©—è­‰ç•¶å¤šå€‹æ¢ä»¶ä¸­æœ‰ä¸€å€‹æ¬„ä½ä¸å­˜åœ¨æ™‚æœƒæ‹‹å‡ºéŒ¯èª¤

### å‘ä¸‹ç›¸å®¹æ€§

- âœ… **100% å‘ä¸‹ç›¸å®¹**
- âœ… æ‰€æœ‰ç¾æœ‰åŠŸèƒ½ä¿æŒä¸è®Š
- âœ… åªåœ¨æ¢ä»¶æ¬„ä½ä¸å­˜åœ¨æ™‚æ‰æœƒæ‹‹å‡ºéŒ¯èª¤
- âœ… æ›´æ–°æ¬„ä½çš„è¡Œç‚ºå®Œå…¨ä¿æŒåŸæ¨£

### å‡ç´šå»ºè­°

1. **æª¢æŸ¥æ¢ä»¶æ¬„ä½åç¨±**ï¼šå‡ç´šå¾Œè«‹ç¢ºèªæ‰€æœ‰æ¢ä»¶æ¬„ä½åç¨±æ‹¼å¯«æ­£ç¢º
2. **æ¸¬è©¦å·¥ä½œæµç¨‹**ï¼šå»ºè­°å…ˆåœ¨æ¸¬è©¦ç’°å¢ƒä¸­é©—è­‰ç¾æœ‰å·¥ä½œæµç¨‹
3. **åˆ©ç”¨éŒ¯èª¤è¨Šæ¯**ï¼šå¦‚æœé‡åˆ°éŒ¯èª¤ï¼Œæ ¹æ“šéŒ¯èª¤è¨Šæ¯ä¿®æ­£æ¬„ä½åç¨±

### æŠ€è¡“ç´°ç¯€

**é©—è­‰é‚è¼¯ï¼š**
```typescript
// é©—è­‰æ‰€æœ‰æ¢ä»¶æ¬„ä½æ˜¯å¦è‡³å°‘å­˜åœ¨æ–¼ä¸€ç­†è³‡æ–™ä¸­
for (const condition of conditions.conditions) {
  const fieldExists = items.some(item => condition.field in item.json);
  if (!fieldExists) {
    throw new NodeOperationError(
      this.getNode(),
      `Condition field "${condition.field}" does not exist in any of the input items. Please check your condition field names.`
    );
  }
}
```

### ç¸½çµ

ç‰ˆæœ¬ 1.1.2 é€éæ–°å¢æ¢ä»¶æ¬„ä½é©—è­‰åŠŸèƒ½ï¼Œæå‡äº†æ“ä½œçš„å¯é æ€§å’Œä½¿ç”¨è€…é«”é©—ï¼š
- ğŸ›¡ï¸ **æ›´å®‰å…¨**ï¼šåŠæ—©ç™¼ç¾æ¬„ä½åç¨±éŒ¯èª¤
- ğŸ¯ **æ›´æº–ç¢º**ï¼šé¿å…éœé»˜å¤±æ•—
- ğŸ“ **æ›´æ¸…æ™°**ï¼šæä¾›æ˜ç¢ºçš„éŒ¯èª¤è¨Šæ¯
- âœ… **æ›´å¯é **ï¼šæ¸›å°‘éé æœŸè¡Œç‚º

---

**å®Œæ•´è®Šæ›´è¨˜éŒ„ï¼š** è«‹åƒé–± [CHANGELOG.md](CHANGELOG.md)
